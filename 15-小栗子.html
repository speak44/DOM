<!DOCTYPE html>
<html>
	<head>
		<meta charset="UTF-8">
		<title></title>
		<style>
			#box div{
				width: 100px;
				height: 100px;
				float: left;
				margin-right:5px;
			}
	
		</style>
	</head>
	<body>
		<input type="button" value="按钮" id="btn"/>
		<br />
		<br />
		<div id="box">
			<div>1</div>
			<div>2</div>
			<div>3</div>
			<div>4</div>
		</div>
		
		<script type="text/javascript">
			var box = document.getElementById('box');
			var divs = box.getElementsByTagName('div');
			var d = Array.from(divs);//把div转化为了类数组
			var btn = document.getElementById('btn');
			var color = ['red','yellow','blue','green'];
			for(var i=0;i<divs.length;i++){
				divs[i].style.background = color[i];
				divs[i].onclick = function(){
					alert(this.style.backgroundColor)
				}
			}
			btn.onclick = function(){
//				color.sort(function(){
//					return Math.random()-0.5;
//				})
//				var str = '';
//				for(var i=0;i<color.length;i++){
//					str+='<div style="background:'+color[i]+';"></div>';
//				}
//				box.innerHTML = str;
				//已有节点相当于剪切，把4个div节点换下顺序，绑定的事件还在
				d.sort(function(){
					return Math.random()-0.5;
				})
				//console.log(d)
				for(var i=0;i<d.length;i++){
					box.appendChild(d[i])
				}
				console.log(box)
				//d 是div转化的类数组。之后把d的每一项重新放到box里面，由于box用div，用了appendChild 是进行了剪切之前的div进了重新排序
		}
		</script>
	</body>
</html>
